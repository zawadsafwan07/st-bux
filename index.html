<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Iced Brown Sugar Espresso</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">

<style>
* { margin: 0; padding: 0; box-sizing: border-box; font-family: Poppins, sans-serif; }

body {
  background: linear-gradient(180deg, #1e3932, #0f241e);
  color: #fff;
}

@media (min-width: 768px) {
  body::before {
    content: "Mobile view only ðŸ“±";
    position: fixed;
    inset: 0;
    background: #000;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.5rem;
    z-index: 999;
  }
}

header {
  text-align: center;
  padding: 24px;
}

header h1 {
  font-size: 1.6rem;
  font-weight: 600;
}

header p {
  opacity: 0.85;
  font-size: 0.9rem;
}

#canvas {
  width: 100%;
  height: 340px;
}

.section {
  padding: 20px;
}

.card {
  background: rgba(255,255,255,0.08);
  padding: 16px;
  border-radius: 16px;
  backdrop-filter: blur(10px);
}

.card h3 {
  margin-bottom: 8px;
}

.card li {
  font-size: 0.85rem;
  opacity: 0.9;
}
</style>
</head>

<body>

<header>
  <h1>Iced Brown Sugar Shaken Espresso</h1>
  <p>Tap & rotate the drink â˜•</p>
</header>

<div id="canvas"></div>

<section class="section">
  <div class="card">
    <h3>Drink Build</h3>
    <ul>
      <li>â€¢ 1 Pump Brown Sugar</li>
      <li>â€¢ 1 Pump White Mocha</li>
      <li>â€¢ Vanilla Sweet Cream</li>
      <li>â€¢ No Oat Milk</li>
    </ul>
  </div>
</section>

<script src="https://cdn.jsdelivr.net/npm/three@0.152.2/build/three.min.js"></script>

<script>
const container = document.getElementById("canvas");

// Scene
const scene = new THREE.Scene();

// Camera
const camera = new THREE.PerspectiveCamera(
  45,
  container.clientWidth / container.clientHeight,
  0.1,
  100
);
camera.position.z = 6;

// Renderer
const renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true });
renderer.setSize(container.clientWidth, container.clientHeight);
renderer.setPixelRatio(window.devicePixelRatio);
container.appendChild(renderer.domElement);

// Lights
scene.add(new THREE.AmbientLight(0xffffff, 0.8));
const dirLight = new THREE.DirectionalLight(0xffffff, 0.8);
dirLight.position.set(5, 5, 5);
scene.add(dirLight);

// CUP GROUP
const drink = new THREE.Group();
scene.add(drink);

// CUP (glass)
const cupGeo = new THREE.CylinderGeometry(1.2, 1.1, 3.2, 32, 1, true);
const cupMat = new THREE.MeshPhysicalMaterial({
  color: 0xffffff,
  transparent: true,
  opacity: 0.15,
  roughness: 0,
  transmission: 1
});
drink.add(new THREE.Mesh(cupGeo, cupMat));

// ESPRESSO + BROWN SUGAR BASE
const espressoGeo = new THREE.CylinderGeometry(1.05, 1.0, 1.4, 32);
const espressoMat = new THREE.MeshStandardMaterial({
  color: 0x6f4e37
});
const espresso = new THREE.Mesh(espressoGeo, espressoMat);
espresso.position.y = -0.8;
drink.add(espresso);

// WHITE MOCHA SWIRL
const mochaGeo = new THREE.CylinderGeometry(1.02, 0.98, 0.4, 32);
const mochaMat = new THREE.MeshStandardMaterial({
  color: 0xcaa472
});
const mocha = new THREE.Mesh(mochaGeo, mochaMat);
mocha.position.y = -0.1;
drink.add(mocha);

// VANILLA SWEET CREAM FOAM
const foamGeo = new THREE.CylinderGeometry(1.05, 1.05, 0.6, 32);
const foamMat = new THREE.MeshStandardMaterial({
  color: 0xf8f1e7
});
const foam = new THREE.Mesh(foamGeo, foamMat);
foam.position.y = 1.1;
drink.add(foam);

// ICE CUBES
const iceGeo = new THREE.BoxGeometry(0.35, 0.35, 0.35);
const iceMat = new THREE.MeshStandardMaterial({
  color: 0xffffff,
  transparent: true,
  opacity: 0.6
});

for (let i = 0; i < 8; i++) {
  const ice = new THREE.Mesh(iceGeo, iceMat);
  ice.position.set(
    (Math.random() - 0.5) * 1.4,
    Math.random() * 1.2 - 0.2,
    (Math.random() - 0.5) * 1.4
  );
  drink.add(ice);
}

// TOUCH ROTATION
let touching = false;
let lastX = 0;

container.addEventListener("touchstart", e => {
  touching = true;
  lastX = e.touches[0].clientX;
});

container.addEventListener("touchmove", e => {
  if (!touching) return;
  const delta = e.touches[0].clientX - lastX;
  drink.rotation.y += delta * 0.01;
  lastX = e.touches[0].clientX;
});

container.addEventListener("touchend", () => touching = false);

// ANIMATION
function animate() {
  requestAnimationFrame(animate);
  drink.rotation.y += 0.002;
  renderer.render(scene, camera);
}
animate();

// RESIZE
window.addEventListener("resize", () => {
  camera.aspect = container.clientWidth / container.clientHeight;
  camera.updateProjectionMatrix();
  renderer.setSize(container.clientWidth, container.clientHeight);
});
</script>

</body>
</html>
